{"version":3,"sources":["webpack:///src/views/index/surveyArchives.vue","webpack:///./src/views/index/surveyArchives.vue?e54e","webpack:///./src/views/index/surveyArchives.vue"],"names":["surveyArchives","data","alertShow","flag","flag2","page","line","site","lineID","projectArr","save","projectMsg","name","tableData","siteID","alertTable","methods","_methods","close","this","changepage","console","log","ctr","index","val","getDetectionresultGetresultbyprojectid","id","changeLine","choose","getSelectAll","_this2","api","then","res","list","changeSite","getLinesite","routeid","_this3","getMeasurementproject","pageNum","_this4","defineProperty_default","pageSize","_this5","_this6","JSON","parse","result","watch","created","_this7","userInfo","localStorage","getItem","setTimeout","forEach","item","index_surveyArchives","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","span","_v","on","command","_s","routename","slot","_l","key","staticStyle","margin-left","sitename","width","border","border-bottom","label","scopedSlots","_u","fn","scope","row","pname","ptime","warningstatistics","ausername","size","click","$event","$index","background","layout","total","length","current-change","directives","rawName","value","expression","measurementitem","inspectionmethod","range1","managementcategory","allNumber","hegeNumber","hegelv","standard1","type","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.083fca7f0563f8deaa42.js","sourcesContent":["<template>\r\n    <div class=\"surveyArchives\">\r\n        \r\n        <!-- Header -->\r\n        <el-row class=\"Header\">\r\n            <el-col :span=\"24\">\r\n                <div class=\"grid-content bg-purple-dark\">\r\n                    <div class=\"select-item\">\r\n                        <!-- 线路 -->\r\n                        <p>路线：</p>\r\n                        <el-dropdown class=\"select_\" @command=\"changeLine\">\r\n                        <span class=\"el-dropdown-link\">\r\n                            {{save.line.routename}}<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n                        </span>\r\n                        <el-dropdown-menu slot=\"dropdown\">\r\n                            <el-dropdown-item v-for=\"item in line\" :key=\"item.id\" :command=\"item\">{{item.routename}}</el-dropdown-item>\r\n                        </el-dropdown-menu>\r\n                        </el-dropdown>\r\n                        <!-- 站点 -->\r\n                        <p style=\"margin-left: 20px;\">站点：</p>\r\n                        <el-dropdown class=\"select_\"  @command=\"changeSite\">\r\n                        <span class=\"el-dropdown-link\">\r\n                            {{save.site.sitename}}<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n                        </span>\r\n                        <el-dropdown-menu slot=\"dropdown\">\r\n                            <el-dropdown-item v-for=\"item in site\" :key=\"item.id\" :command=\"item\">{{item.sitename}}</el-dropdown-item>\r\n                        </el-dropdown-menu>\r\n                        </el-dropdown>\r\n                    </div>\r\n                </div>\r\n            </el-col>\r\n        </el-row>\r\n        <!-- Header END -->\r\n\r\n\r\n        <div class=\"tableCon\">\r\n            <template>\r\n                <el-table\r\n                    :data=\"save.tableData\"\r\n                    style=\"width: 100%; border: 1px solid #eee;border-bottom: none;\">\r\n                    <el-table-column label=\"项目名称\">\r\n                        <template slot-scope=\"scope\">\r\n                            <span style=\"margin-left: 10px\">{{ scope.row.pname }}</span>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"检测时间\" width=\"280\">\r\n                        <template slot-scope=\"scope\">\r\n                            <span style=\"margin-left: 10px\">{{ scope.row.ptime }}</span>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"综合预警\" width=\"280\">\r\n                        <template slot-scope=\"scope\">\r\n                            <span style=\"margin-left: 10px\">{{ scope.row.warningstatistics }}</span>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"提交人\" width=\"120\">\r\n                        <template slot-scope=\"scope\">\r\n                            <span style=\"margin-left: 10px\">{{ scope.row.ausername }}</span>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column width=\"100\" label=\"操作\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-button\r\n                            size=\"mini\"\r\n                            @click=\"ctr(scope.$index, scope.row)\">查看</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n            </template>\r\n            <div class=\"fy\">\r\n                <el-pagination\r\n                    background\r\n                    layout=\"prev, pager, next\"\r\n                    @current-change=\"changepage\"\r\n                    :total=\"save.tableData.length\">\r\n                </el-pagination>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"bg\" v-show=\"alertShow\"></div>\r\n        <div class=\"alert_table\" v-show=\"alertShow\">\r\n            <template>\r\n                <el-table\r\n                    :data=\"alertTable\"\r\n                    style=\"width: 100%; border: 1px solid #eee;border-bottom: none;\">\r\n                    <el-table-column label=\"检查项目\" width=\"280\">\r\n                    <template slot-scope=\"scope\">\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.measurementitem }}</span>\r\n                    </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"检测方法及数量\" width=\"160\">\r\n                        <template slot-scope=\"scope\">\r\n                            <span style=\"margin-left: 10px\">{{ scope.row.inspectionmethod }}</span>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"综合检查标准或要求\" width=\"160\">\r\n                        <template slot-scope=\"scope\">\r\n                            <span style=\"margin-left: 10px\">{{ scope.row.range1 }}</span>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"管理类别\">\r\n                        <template slot-scope=\"scope\">\r\n                            <span style=\"margin-left: 10px\">{{ scope.row.managementcategory }}</span>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"检查数量\">\r\n                        <template slot-scope=\"scope\">\r\n                            <span style=\"margin-left: 10px\">{{ scope.row.allNumber }}</span>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"合格数量\">\r\n                        <template slot-scope=\"scope\">\r\n                            <span style=\"margin-left: 10px\">{{ scope.row.hegeNumber }}</span>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"合格率%\">\r\n                        <template slot-scope=\"scope\">\r\n                            <span style=\"margin-left: 10px\">{{ scope.row.hegelv }}</span>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"检查意见\" width=\"280\">\r\n                        <template slot-scope=\"scope\">\r\n                            <span style=\"margin-left: 10px\">{{ scope.row.standard1 }}</span>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n            </template>\r\n            <div class=\"_btn\">\r\n                <el-button type=\"primary\" size=\"small\" @click=\"close\">关闭</el-button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport api from \"@/api/index.js\";\r\nexport default {\r\n    data () {\r\n        return {\r\n            alertShow: false,\r\n            flag: true,\r\n            flag2: false,\r\n            page: '0',\r\n            line: [],\r\n            site: [],\r\n            lineID: '0',\r\n            projectArr: [],\r\n            save: {\r\n                line: {},\r\n                site: {},\r\n                projectMsg: {\r\n                    name: ''\r\n                },\r\n                tableData: []\r\n            },\r\n            tableData: [],\r\n            siteID: '',\r\n            alertTable: []\r\n        }\r\n    },\r\n    methods: {\r\n        close() {\r\n            this.alertShow = false;\r\n        },\r\n        changepage(page) {\r\n            console.log(page);\r\n        },\r\n        // \r\n        ctr(index, val) {\r\n            this.alertShow = true;\r\n            console.log(val);\r\n            this.getDetectionresultGetresultbyprojectid(val.id);\r\n        },\r\n        // 改变线路\r\n        changeLine (choose) {\r\n            console.log(choose)\r\n            var _this = this;\r\n            this.save.line = choose;\r\n            this.lineID = choose.id;\r\n        },\r\n        // 获取线路\r\n        getSelectAll() {\r\n            api.getSelectAll().then(res => {\r\n                console.log('线路', res.data.list)\r\n                this.line = res.data.list;\r\n                this.save.line = res.data.list[0];\r\n                this.lineID = res.data.list[0].id;\r\n            })\r\n        },\r\n        // 改变站点\r\n        changeSite(choose) {\r\n            console.log(choose);\r\n            this.save.site = choose;\r\n            this.siteID = choose.id;\r\n        },\r\n        // 获取站点\r\n        getLinesite(routeid) {\r\n            api.getLinesite(routeid).then(res => {\r\n                console.log('站点', res.data.list)\r\n                this.site = res.data.list;\r\n                this.save.site = res.data.list[0];\r\n                this.siteID = res.data.list[0].id;\r\n            })\r\n        },\r\n        // 检测项目 列表\r\n        getMeasurementproject(id, pageNum) {\r\n            api.getMeasurementproject(id, pageNum, 10).then(res => {\r\n            console.log('检测项目', res.data.list)\r\n            this.tableData = res.data.list;\r\n            })\r\n        },\r\n        // 项目列表\r\n        getMeasurementproject(id, pageNum, pageSize) {\r\n            api.getMeasurementproject(id, pageNum, pageSize).then(res => {\r\n                console.log('项目列表', res.data.list)\r\n                this.save.tableData = res.data.list;\r\n                // this.save.tableData = JSON.parse(res.data.result);\r\n            })\r\n        },\r\n        // 结果\r\n        getDetectionresultGetresultbyprojectid(id) {\r\n            api.getDetectionresultGetresultbyprojectid(id).then(res => {\r\n                console.log(JSON.parse(res.data.result));\r\n                this.alertTable = JSON.parse(res.data.result)\r\n            })\r\n        }\r\n    },\r\n    watch: {\r\n        lineID(val) {\r\n            console.log('lineID', val)\r\n            this.getLinesite(val)\r\n        },\r\n        siteID(val) {\r\n            console.log('siteID', val);\r\n            this.getMeasurementproject(val, 0, 10);\r\n            // this.getMeasurementprojectSelectSelectBymid(val);\r\n        },\r\n    },\r\n    created() {\r\n        this.getSelectAll();\r\n        let userInfo = JSON.parse(localStorage.getItem('USERINFO'))\r\n        let _this = this;\r\n        this.getSelectAll();\r\n        console.log('USERINFO', userInfo);\r\n        setTimeout(() => {\r\n            this.line.forEach(item => {\r\n            if(item.id == userInfo.line) {\r\n                this.save.line = item;\r\n            }\r\n            })\r\n            this.site.forEach(item => {\r\n            if(item.id == userInfo.site) {\r\n                this.save.site = item;\r\n            }\r\n            })\r\n            this.save.userInfo = userInfo;\r\n            this.lineID = userInfo.line;\r\n            this.siteID = userInfo.site; \r\n        }, 200)\r\n    }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n.Header \r\n    color #fff\r\n    display flex\r\n    align-items center\r\n    .select-item\r\n        display flex\r\n        align-items center\r\n        color #fff\r\n        .el-dropdown-link\r\n            color #fff\r\n.top_bt \r\n    display flex\r\n    align-items center\r\n    color #fff\r\n    p\r\n        margin-left 30px\r\n.tableCon\r\n    margin-top 16px\r\n    padding 20px \r\n    border-radius 12px\r\n    overflow hidden\r\n    background #fff\r\n    .fy\r\n        padding-top 10px\r\n        text-align center\r\n.bg\r\n    width 100%\r\n    height 100%\r\n    position fixed\r\n    left 0\r\n    top 0\r\n    background rgba(0,0,0,.5)\r\n    z-index 900\r\n.alert_table\r\n    background #fff\r\n    position fixed\r\n    left 50%\r\n    top 50%\r\n    transform translate(-50%, -50%)\r\n    z-index 999\r\n    padding 20px\r\n    border-radius 4px\r\n    ._btn\r\n        display flex\r\n        justify-content flex-end\r\n        padding-top 20px\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/index/surveyArchives.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"surveyArchives\"},[_c('el-row',{staticClass:\"Header\"},[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"grid-content bg-purple-dark\"},[_c('div',{staticClass:\"select-item\"},[_c('p',[_vm._v(\"路线：\")]),_vm._v(\" \"),_c('el-dropdown',{staticClass:\"select_\",on:{\"command\":_vm.changeLine}},[_c('span',{staticClass:\"el-dropdown-link\"},[_vm._v(\"\\n                        \"+_vm._s(_vm.save.line.routename)),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},_vm._l((_vm.line),function(item){return _c('el-dropdown-item',{key:item.id,attrs:{\"command\":item}},[_vm._v(_vm._s(item.routename))])}),1)],1),_vm._v(\" \"),_c('p',{staticStyle:{\"margin-left\":\"20px\"}},[_vm._v(\"站点：\")]),_vm._v(\" \"),_c('el-dropdown',{staticClass:\"select_\",on:{\"command\":_vm.changeSite}},[_c('span',{staticClass:\"el-dropdown-link\"},[_vm._v(\"\\n                        \"+_vm._s(_vm.save.site.sitename)),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},_vm._l((_vm.site),function(item){return _c('el-dropdown-item',{key:item.id,attrs:{\"command\":item}},[_vm._v(_vm._s(item.sitename))])}),1)],1)],1)])])],1),_vm._v(\" \"),_c('div',{staticClass:\"tableCon\"},[[_c('el-table',{staticStyle:{\"width\":\"100%\",\"border\":\"1px solid #eee\",\"border-bottom\":\"none\"},attrs:{\"data\":_vm.save.tableData}},[_c('el-table-column',{attrs:{\"label\":\"项目名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.pname))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"检测时间\",\"width\":\"280\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.ptime))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"综合预警\",\"width\":\"280\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.warningstatistics))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"提交人\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.ausername))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"100\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.ctr(scope.$index, scope.row)}}},[_vm._v(\"查看\")])]}}])})],1)],_vm._v(\" \"),_c('div',{staticClass:\"fy\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.save.tableData.length},on:{\"current-change\":_vm.changepage}})],1)],2),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.alertShow),expression:\"alertShow\"}],staticClass:\"bg\"}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.alertShow),expression:\"alertShow\"}],staticClass:\"alert_table\"},[[_c('el-table',{staticStyle:{\"width\":\"100%\",\"border\":\"1px solid #eee\",\"border-bottom\":\"none\"},attrs:{\"data\":_vm.alertTable}},[_c('el-table-column',{attrs:{\"label\":\"检查项目\",\"width\":\"280\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.measurementitem))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"检测方法及数量\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.inspectionmethod))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"综合检查标准或要求\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.range1))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"管理类别\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.managementcategory))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"检查数量\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.allNumber))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"合格数量\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.hegeNumber))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"合格率%\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.hegelv))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"检查意见\",\"width\":\"280\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.standard1))])]}}])})],1)],_vm._v(\" \"),_c('div',{staticClass:\"_btn\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.close}},[_vm._v(\"关闭\")])],1)],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-583f7714\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/index/surveyArchives.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-583f7714\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./surveyArchives.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./surveyArchives.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./surveyArchives.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-583f7714\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./surveyArchives.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-583f7714\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/index/surveyArchives.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}